<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="autor" content="Дмитрий Карасёв">
    <title>Домашняя работа к уроку № 4</title>
</head>
<body>
    <h1>Домашняя работа к уроку № 4</h1>
    <h3>
        Студент - Дмитрий Карасёв
    </h3>
    <br>
    <h2>Задание № 1</h2>
    <p>
        <b>Дан большой текст, в котором для оформления прямой речи используются одинарные кавычки. Придумать шаблон, который заменяет одинарные кавычки на двойные</b>
    </p>
    <hr>
    <p id="info1" style="color:grey;">для получения результата выполнения задания, нажмите кнопку</p>
    <button id="btn1" style="border:1px solid red;">Поменять в тексте одинарные ковычки на двойные</button>
    <p id="txt1">
        Lorem ipsum dolor sit amet <font color="red">'consectetur adipisicing elit. Totam, assumenda deleniti aliquid hic earum'</font> eum in repellat culpa odio ipsa amet distinctio deserunt possimus consequatur eaque sint consequuntur? Esse, similique?
        Neque ex totam numquam enim sunt eius voluptate! Ullam, reprehenderit fuga fugit ea aliquam iste itaque modi quae voluptatum nulla perspiciatis voluptates debitis rem est minus? Tenetur suscipit accusantium numquam.
        Consequatur esse expedita atque unde itaque? Accusantium esse deserunt cupiditate eligendi sit, dolorum quae animi magnam magni officia hic error natus quod optio sapiente, nesciunt at iure, aliquam nostrum deleniti!
        Delectus in velit facilis <font color="red">'voluptates provident pariatur beatae necessitatibus rem ullam labore quaerat dolorem illum'</font> consequatur eius nihil molestiae nemo non modi maiores, quam sit tempora repellat quo? Facere.
        Totam in amet placeat unde quaerat deleniti atque omnis perferendis expedita optio reprehenderit ad, nemo rem tempore veniam beatae fuga eaque esse minima hic? Eos reiciendis optio ex iure voluptas.
        Suscipit, eum. Porro magnam voluptatem architecto quidem, consequatur reiciendis enim placeat facere asperiores laboriosam rerum ipsa aperiam, eum facilis voluptatum esse excepturi! Quidem nam quaerat, repellendus officiis nemo ea accusamus!
        Aliquam explicabo, <font color="red">'veritatis soluta asperiores suscipit modi! Molestiae dignissimos facere libero? Quo voluptas, quae atque a ex nemo omnis'</font>, deserunt veritatis obcaecati porro tenetur magni, illum vitae exercitationem est assumenda.
        Velit magni officiis architecto debitis libero pariatur expedita, rerum ex dolorem culpa tempore at tenetur repudiandae ducimus quod quasi, autem alias eaque ab eum nemo deserunt, atque delectus! Aperiam, perferendis.
        Aliquid placeat eius ex cum accusantium fugiat velit ullam est laboriosam laudantium maxime impedit ducimus tempore ea, odit modi qui molestiae quos quibusdam rerum! Adipisci mollitia omnis dolores delectus esse.
        Alias commodi eligendi expedita est nihil <font color="red">'sint explicabo quibusdam totam error consectetur quisquam, blanditiis'</font>, officiis tenetur. Officiis iste cupiditate in minus labore molestias amet. Quibusdam non corporis fugit quasi autem.
        Illo, quidem quo ipsam corrupti voluptatum, laudantium minima dolorem asperiores accusantium sit beatae. Natus quia maxime dicta eveniet nesciunt libero! Dolores numquam eligendi officia expedita repellat ex modi ad possimus.
        nam, quibusdam voluptate numquam perspiciatis officia consequuntur quaerat, accusamus quos! Ipsa, eius, officiis doloremque velit eaque nulla eveniet eligendi consectetur totam omnis optio, accusantium expedita. Recusandae.
        Harum officiis laborum sit quod aperiam dolores iusto natus repellat consectetur perspiciatis aut, quo odio beatae adipisci reprehenderit eveniet nesciunt reiciendis quibusdam doloribus provident unde hic dolor neque alias? Facere.
        Doloremque maxime necessitatibus ex <font color="red">'fugiat voluptas est non. Sapiente minima quas, temporibus modi consectetur distinctio'</font> beatae dicta quia eaque. Ullam, ratione. Explicabo ullam nam ipsa odio reiciendis vero quasi modi!
        Sequi vitae vero qui odio eligendi quibusdam dicta saepe repudiandae ullam veritatis. Blanditiis porro provident at ex voluptate commodi est aliquid ipsa. Unde reprehenderit laudantium praesentium, vitae molestiae qui eius?
        Quam doloremque suscipit fugiat quaerat, provident distinctio recusandae earum et libero laboriosam quae repellat possimus voluptate accusantium quasi? Doloribus, unde inventore deserunt officia odit ullam libero commodi nostrum aliquam numquam!
    </p>
    <script>
        const txtEl1 = document.getElementById("txt1");
        const btnEl1 = document.getElementById("btn1");
        const txt1 = txtEl1.innerHTML;
        
        //let regexp = new RegExp("'");
        
        //let regexp = /'/g;
        //txtEl.innerHTML = txt.replace(regexp, '"');

        //txtEl.innerHTML = txt.replace(/'/g, '"');

        btnEl1.addEventListener("click", (event) => {
            txtEl1.innerHTML = txt1.replace(/'/gm, '"').replace(/"red"/gim, '"blue"');
            event.target.style.border = "none";
            event.target.setAttribute("disabled", true);
            document.getElementById("info1").remove();
        });
    </script>
    <hr>
    <br>
    <br>
    <h2>Задание № 2</h2>
    <p>
        <b>Улучшить шаблон так, чтобы в конструкциях типа aren't одинарная кавычка не заменялась на двойную.</b>
    </p>
    <hr>
    <p id="info2" style="color:grey;">для получения результата выполнения задания, нажмите кнопку</p>
    <button id="btn2" style="border:1px solid red;">Поменять в тексте одинарные ковычки на двойные, кроме конструкций <b>aren't</b></button>
    <p id="txt2">
        Lorem ipsum <b>aren't</b> dolor sit amet <font color="red">'consectetur adipisicing elit. Totam, assumenda deleniti aliquid hic earum'</font> eum in repellat <b>aren't</b> culpa odio ipsa amet distinctio deserunt possimus consequatur eaque sint consequuntur? Esse, similique?
        Neque ex totam numquam enim sunt eius voluptate! Ullam, reprehenderit fuga fugit ea aliquam iste itaque modi quae voluptatum nulla perspiciatis voluptates debitis rem est minus? Tenetur suscipit accusantium numquam.
        Consequatur esse expedita atque unde itaque? Accusantium esse deserunt <b>r't</b> cupiditate eligendi sit, dolorum quae animi magnam magni officia hic error natus quod optio sapiente, nesciunt at iure, aliquam nostrum deleniti!
        Delectus in velit facilis <font color="red">'voluptates provident <b>aren't</b> pariatur beatae necessitatibus rem ullam labore quaerat dolorem illum'</font> consequatur eius nihil molestiae nemo non modi maiores, quam sit tempora repellat quo? Facere.
        Totam in amet <b>ar4en'rt</b> placeat unde quaerat deleniti <br>
        ARENT:<br>
        <b>lorem aren't expedita optio </b><br>
        <b>lorem aren'et expedita optio </b><br>
        <b>lorem aren't e expedita optio </b><br>
        <b>lorem are1n't  expedita optio </b><br>
        <b>lorem awren't expedita optio </b><br>
        <b>lorem are1n't expedita optio </b><br>
        atque omnis perferendis expedita optio reprehenderit ad, nemo rem tempore veniam beatae fuga eaque esse minima hic? Eos reiciendis optio ex iure voluptas.
        Suscipit, eum. Porro magnam voluptatem architecto quidem, consequatur reiciendis enim placeat facere asperiores laboriosam rerum <b>aren't</b> ipsa aperiam, eum facilis voluptatum esse excepturi! Quidem nam quaerat, repellendus officiis nemo ea accusamus!
        Aliquam explicabo, <font color="red">'veritatis soluta asperiores suscipit modi! Molestiae dignissimos facere libero? Quo voluptas, quae atque a ex nemo omnis'</font>, deserunt veritatis obcaecati porro tenetur magni, illum vitae exercitationem est assumenda.
        Velit magni officiis architecto debitis libero pariatur expedita, rerum ex dolorem culpa tempore at tenetur repudiandae ducimus quod quasi, autem alias eaque ab eum nemo deserunt, atque delectus! Aperiam, perferendis.
        Aliquid placeat eius ex cum accusantium fugiat velit ullam est laboriosam laudantium maxime impedit ducimus tempore ea, odit modi qui molestiae quos quibusdam rerum! Adipisci mollitia omnis dolores delectus esse.
        Alias commodi eligendi expedita est nihil <font color="red">'sint explicabo quibusdam <b>arn't</b> totam <b>aren'ut</b> error <b>aren'</b> consectetur <b>aren't</b> quisquam, blanditiis'</font>, officiis tenetur. Officiis iste cupiditate in minus labore molestias amet. Quibusdam non corporis fugit quasi autem.
        Illo, <b>aren't</b> quidem quo ipsam corrupti voluptatum, laudantium minima dolorem asperiores accusantium sit beatae. Natus quia maxime dicta eveniet nesciunt libero! Dolores numquam eligendi officia expedita repellat ex modi ad possimus.
        nam, quibusdam voluptate numquam perspiciatis officia consequuntur quaerat, accusamus quos! Ipsa, eius, officiis doloremque velit eaque nulla eveniet eligendi consectetur totam omnis optio, accusantium expedita. Recusandae.
        Harum officiis laborum sit quod aperiam dolores iusto natus repellat consectetur perspiciatis aut, quo odio beatae adipisci reprehenderit eveniet nesciunt reiciendis quibusdam doloribus provident unde hic dolor neque alias? Facere.
        Doloremque maxime necessitatibus ex <font color="red">'fugiat voluptas est non. <b>aren't</b>  Sapiente minima quas, temporibus modi consectetur distinctio'</font> beatae dicta quia eaque. Ullam, ratione. Explicabo ullam nam ipsa odio reiciendis vero quasi modi!
        Sequi vitae <b>aren't</b> vero qui odio eligendi quibusdam dicta saepe repudiandae ullam veritatis. Blanditiis porro provident at ex voluptate commodi est aliquid ipsa. Unde reprehenderit laudantium praesentium, vitae molestiae qui eius?
        Quam doloremque suscipit fugiat quaerat, provident <b>aren't</b> distinctio recusandae earum et libero laboriosam quae repellat possimus voluptate accusantium quasi? Doloribus, unde inventore deserunt officia odit ullam libero commodi nostrum aliquam numquam!
    </p>
    <script>
        const txtEl2 = document.getElementById("txt2");
        const btnEl2 = document.getElementById("btn2");

        // Ниже показаны возможные регулярные выражения для решения задания:
        // суть - поиск одинарной ковычки, без вхождения конструкции aren't

        // (?![\w]'[t])([\s\S])'|^'
        // (?![aren]'[t])([\s\S])'|^'
        // (?![a-z]'[t])([\s\S])'|^'
        // (?<!aren)'(?!'t(?=\s|\$))

        // (\b(?:aren't)\w*)|'


        // Но мне понравился другой путь: поиск именно конструкции aren't и одинарной ковычки. 
        // Суть в том, что по такому шаблону находятся две группы, первая из которых соотвествует "aren't"
        // Далее через функцию второго параметра в replace, если это первая группа возвращаем - группу, иначе - ". 
        const txt2 = txtEl2.innerHTML;
        btnEl2.addEventListener("click", (event) => {
            txtEl2.innerHTML =  txt2.replace(/(aren't)|'/gim, 
                                                function(match, p1, p2) {
                                                    if (p1) { 
                                                        return `<b style='color:red;'>${p1}</b>`; 
                                                    } else {
                                                        return '"';
                                                    }})
                                    .replace(/"red"/gim, '"blue"');
            event.target.style.border = "none";
            event.target.setAttribute("disabled", true);
            document.getElementById("info2").remove();
        });
    </script>
    <hr>
    <br>
    <br>
    <h2>Задание № 3 *</h2>
    <p><b> 
        Создать форму обратной связи с полями: Имя, Телефон, E-mail, текст, кнопка Отправить. При нажатии на кнопку Отправить произвести валидацию полей следующим образом:<br>
        a. Имя содержит только буквы.<br>
        b. Телефон имеет вид +7(000)000-0000.<br>
        c. E-mail имеет вид mymail@mail.ru, или my.mail@mail.ru, или my-mail@mail.ru.<br>
        d. Текст произвольный.<br>
        e. Если одно из полей не прошло валидацию, необходимо выделить это поле красной рамкой и сообщить пользователю об ошибке.</b>
    </p>
    <hr>
    <form id="form" method="POST" style="border:1px solid #bbb;padding:20px;max-width:500px;">
        <label for="name" style="color:#999;">Имя</label><br>
        <input id="name" type="text" style="font-weight:400;width:100%;"><br>
        <p id="namenovalid" style="color:red;font-size:smaller;display:none;">Имя введено неверно. Имя должно содержать только буквы.</p><br>
        <label for="tel" style="color:#999;">Телефон</label><br>
        <input id="tel" type="text" style="font-weight:400;width:100%;"><br>
        <p id="telnovalid" style="color:red;font-size:smaller;display:none;">Телефон введен неверно. Телефон должен иметь вид +7(000)000-0000.</p><br>
        <label for="email" style="color:#999;">E-mail</label><br>
        <input id="email" type="text" style="font-weight:400;width:100%;"><br>
        <p id="emailnovalid" style="color:red;font-size:smaller;display:none;">E-mail введен неверно. E-mail должен иметь вид mymail@mail.ru, или my.mail@mail.ru, или my-mail@mail.ru.</p><br>
        <textarea id="txt" style="font-weight:400;width:100%;" rows="5">
        </textarea><br>
        <p id="txtnovalid" style="color:red;font-size:smaller;display:none;">Текст введен неверно. Текст должен быть произвольный.</p>
        <hr style="border:1px solid #ccc;">
        <button id="bsubmit" type="submit">Отправить</button>
    </form>
    <script>
        const nameEl = document.getElementById("name");
        const namevalidEl = document.getElementById("namenovalid");
        const telEl = document.getElementById("tel");
        const telvalidEl = document.getElementById("telnovalid");
        const emailEl = document.getElementById("email");
        const emailvalidEl = document.getElementById("emailnovalid");
        const txtEl = document.getElementById("txt");
        const txtvalidEl = document.getElementById("txtnovalid");
        const formEl = document.getElementById("form");

        formEl.addEventListener("submit", (event) => {
            const nameTxt = nameEl.value.trim();
            const telTxt = telEl.value.trim();
            const emailTxt = emailEl.value.trim();
            const tTxt = txtEl.value.trim();
            
            let statusSubmit = true;    // По умолчанию ставим флаг, что форму можно отправлять
            let borderNoValid = "2px inset red";
            let borderValid = "1px inset #777";

            // Валидация по полям

            // Тут проверяем противного, в смысле проверку осуществляем от противного
            // Противные все которые не буквы в любом регистре
            if (nameTxt.match(/([^a-zа-яё])/gi)) {
                statusSubmit = false;
                nameEl.style.border = borderNoValid;
                namevalidEl.style.display = "block";
            } else {
                nameEl.style.border = borderValid;
                namevalidEl.style.display = "none";
            }

            //Телефон должен иметь вид +7(000)000-0000.
            if (telTxt.match(/^[+]{1}7[(]{1}[0-9]{3}[)]{1}[0-9]{3}-[0-9]{4}$/g)) {
                telEl.style.border = borderValid;
                telvalidEl.style.display = "none";
            } else {
                statusSubmit = false;
                telEl.style.border = borderNoValid;
                telvalidEl.style.display = "block";
            }

           // mymail@mail.ru, или my.mail@mail.ru, или my-mail@mail.ru.
           // Только лаьтиница, ну и наверное любой регистр
           // Чтобы прям точь-в-точь по  шаблону, нужно убрать флаг /i
            if (emailTxt.match(/^([a-z]+|([a-z]+[.]{1}[a-z]+)|([a-z]+[-]{1}[a-z]+))@[a-z]+[.]{1}ru$/gi)) {
                emailEl.style.border = borderValid;
                emailvalidEl.style.display = "none";
            } else {
                statusSubmit = false;
                emailEl.style.border = borderNoValid;
                emailvalidEl.style.display = "block";
            }

            // Поскольку текст произвольный, его не проверяем, но на всякий случай, можно сделать сопоставление на символы в словах

            // if (tTxt.match(/\W*/g)) {
            //     statusSubmit = false;
            //     txtEl.style.border = borderNoValid;
            //     txtvalidEl.style.display = "block";
            // } else {
            //     txtEl.style.border = borderValid;
            //     txtvalidEl.style.display = "none";
            // }

            // Если форма не прошла валидацию, то фигвам:
            if (!statusSubmit) {
                event.preventDefault();
                return false;   
            }

            // Но в рамках ДЗ не будем перезагружать страницу и реально отправлять форму 
            // поэтому выполняем код ниже
            event.preventDefault();
            return false;  
            // В работающем проекте этого кода не будет 
        });
    </script>
    <hr>
</body>
</html>
